// vue3æºç æ ¸å¿ƒä»£ç 
// ä½¿ç”¨åå°„ã€ä»£ç†å®ç°åŒå‘ç»‘å®š
// Proxy æ˜¯æ‹¦æˆªé»˜è®¤è¡Œä¸ºï¼ŒReflect æ˜¯æ¢å¤é»˜è®¤è¡Œã€‚
// è¢« Proxy æ‹¦æˆªã€è¿‡æ»¤äº†ä¸€äº›é»˜è®¤è¡Œä¸ºä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ Reflect æ¢å¤æœªè¢«æ‹¦æˆªçš„é»˜è®¤è¡Œä¸ºã€‚
// é€šå¸¸å®ƒä»¬ä¸¤ä¸ªä¼šç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ã€‚

function Tree() {
  return new Proxy({}, handler)
}
const handler = {
  // ç›®æ ‡ã€é”®ã€æ¥å—è€…
  get(target, key, receiver) {
    if (!(key in target)) {
      target[key] = Tree()
    }
    // è¿›å…¥æ­»å¾ªç¯ï¼Œä»£ç†ç›‘å¬åˆ°è¢«è°ƒç”¨äº†
    // return target[key]
    // Reflect.get åªåšå–å€¼æ“ä½œï¼Œä¸åšå…¶ä»–æ“ä½œ
    return Reflect.get(target, key, receiver)
  }
}

let tree = Tree()
tree.test.student.a = 'ğŸ¥”'
console.log(tree);

// ä½¿ç”¨nodeè¿è¡Œä¸Šé¢ä»£ç åå¾—åˆ°
// { test: { student: { a: 'ğŸ¥”' } } }


// vue2
// 1ï¼šé€’å½’éå†æ‰€æœ‰çš„å¯¹è±¡çš„å±æ€§ï¼Œè¿™æ ·å¦‚æœæˆ‘ä»¬æ•°æ®å±‚çº§æ¯”è¾ƒæ·±çš„è¯ï¼Œæ˜¯ä¸€ä»¶å¾ˆè€—è´¹æ€§èƒ½çš„äº‹æƒ…
// 2ï¼šåªèƒ½åº”ç”¨åœ¨å¯¹è±¡ä¸Šï¼Œä¸èƒ½ç”¨äºæ•°ç»„
// 3ï¼šåªèƒ½å¤Ÿç›‘å¬å®šä¹‰æ—¶çš„å±æ€§ï¼Œä¸èƒ½ç›‘å¬æ–°åŠ çš„å±æ€§ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆåœ¨vueä¸­è¦ä½¿ç”¨Vue.setçš„åŸå› ï¼Œåˆ é™¤ä¹Ÿæ˜¯åŒç†
// vue2åŒå‘ç»‘å®šåŸç†
// Object.defineProperty(new Vue,{
//   ...data
// })
