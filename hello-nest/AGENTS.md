# Repository Guidelines

## Project Structure & Module Organization
Source lives in `src/`, with the HTTP entrypoint in `src/main.ts`, the root wiring in `src/app.module.ts`, and feature modules grouped under subfolders such as `src/hi/`. Controllers follow the `*.controller.ts` suffix and services use `*.service.ts` to stay aligned with NestJS conventions. Unit test doubles sit beside their targets as `*.spec.ts`, while end-to-end suites and their Jest config are in `test/`. The `dist/` directory is generated by `pnpm build` and should never be edited manually. Shared TypeScript and tooling configuration is captured in `tsconfig*.json`, `nest-cli.json`, `.prettierrc`, and `eslint.config.mjs`.

## Build, Test, and Development Commands
Install dependencies with `pnpm install`. Run `pnpm start:dev` for live reload during local development, or `pnpm start` for a one-off start. Produce a compiled output via `pnpm build`, which writes to `dist/`, and launch the production bundle with `pnpm start:prod`. Quality gates include `pnpm lint` for ESLint/Prettier fixes, `pnpm format` to rewrite source files, `pnpm test` for Jest unit suites, `pnpm test:watch` while iterating, `pnpm test:cov` to check coverage, and `pnpm test:e2e` to exercise the HTTP surface.

## Coding Style & Naming Conventions
TypeScript targets Node 20+ with ECMAScript modules. Prettier enforces two-space indentation, single quotes, trailing semicolons, and sorted imports; run it before committing. Use PascalCase for classes, camelCase for variables and methods, and keep file names kebab-cased by feature (`hi.controller.ts`). Decorators should stay tightly coupled to their handlers, and controllers should delegate business logic to services to keep files readable.

## Testing Guidelines
Unit specs (`*.spec.ts`) should assert controller/service behaviour in isolation using Jest mocks. API-level coverage belongs in `test/*.e2e-spec.ts`, leveraging SuperTest against the bootstrapped Nest application. Target green `pnpm test` and `pnpm test:e2e` before pushing, and ensure `pnpm test:cov` maintains or improves the existing coverage percentage. Tests should describe behaviour (`should return greeting`) and mirror the public API’s URL/verb combinations.

## Commit & Pull Request Guidelines
This repository has no Git history yet, so adopt Conventional Commits for clarity—e.g. `feat: add hi endpoint` or `test: cover hi controller`. Each pull request should include a succinct summary, link to any tracked issue, list of executed commands (tests, lint), and screenshots or cURL samples when altering HTTP responses. Request review once CI passes and documentation (`README.md`, `AGENTS.md`) stays in sync with the changes.
