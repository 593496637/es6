<!DOCTYPE html>
<html>
	<meta charset="utf-8">
	<title></title>
	<head>
	</head>
	<body>
		<script type="text/javascript">
			// 属性类型：1、数据属性 2、访问器属性

			// Object.defineProperty
			// 1、数据属性
			var animal = {}
			Object.defineProperty(animal, 'cat', {
				value: 121
			})
			console.log(animal.cat);


			// 2、访问器属性
			var people = {
				_year: 2004,
				edition: 1
			}
			Object.defineProperty(people, 'year', {
				get: function() {
					return this._year
				},
				set: function(newValue) {
					if (newValue > 2004) {
						this._year = newValue;
						this.edition += newValue - 2004;
					}
				}
			})
			people.year = 2005;
			console.log(people.edition);

			// 定义多个属性  Object.defineProperties
			// 读取属性的特性
			var book = {};

			Object.defineProperties(book, {
				_year: {
					value: 2004,
					writable: true //默认为false，不设置writeable的情况下修改_year的值不生效
				},
				edition: {
					value: 1
				},
				year: {
					// enumerable: true,
					get: function() {
						return this._year
					},
					set: function(newValue) {
						if (newValue > 2004) {
							this._year = newValue;
							this.edition += newValue - 2004;
						}
					}
				}
			})

			// 读取属性的特性 Object.getOwnPropertyDescriptor()
			var descriptor = Object.getOwnPropertyDescriptor(book, '_year');
			console.log(descriptor.value);
			console.log(descriptor.configurable);
			console.log(descriptor.writable);
			console.log(typeof descriptor.get);

			var descriptor2 = Object.getOwnPropertyDescriptor(book, 'year');
			console.log(descriptor2.value);
			console.log(descriptor2.enumerable);
			console.log(typeof descriptor2.get);
		</script>
	</body>
</html>
